# 每日開發日誌：2025-12-17 (kintone 整合與架構進化)

## 📝 今日事件：從「寫程式」進化到「造系統」
- **kintone 整合專案**：將報價單自動歸檔至 kintone。原本同事打算用 Jotform 直連，但我評估後推翻，改用 GAS 作為中繼層 (Middleware)。
- **髒資料處理**：發現 kintone 既有資料缺乏唯一 ID，導致無法自動匹配。設計了「模糊匹配 + 人工標記」的過渡機制，確保流程不中斷。
- **穩健性升級**：在實作中主動加入了：**防重複觸發 (Idempotency)**、**失敗重試 (Retry)**、**排隊系統 (Queueing)**、**狀態管理 (State Management)** 與 **錯誤日誌 (Log)**。

## 💡 關鍵決策與邏輯
1. **中繼層 (Middleware) 的價值**：選擇 GAS 而非 Jotform 直連，是為了在「掉鍊子」時有補救空間。GAS 能記錄處理狀態，一旦 API 失敗可重新執行。
2. **容錯設計**：接受資料不完美的現實，「不假裝資料是乾淨的」，而是將例外路徑化為可由人工介入的狀態。
3. **能力轉換**：意識到自己做的是「一錯就會影響全公司的地基」，而同事負責「門面美化」。壓力雖然大，但這正是架構師的核心價值。

## 🚩 遇到挑戰
- **測試責任壓力**：公司缺乏 QA 流程，壓力全在開發者身上。
- **需求主觀性**：主管對資料庫美觀（如超連結總表）有無窮要求，需要學會如何高效對付這些「低價值摩擦」。

## 💭 今日反思
- **痛苦的進化**：為什麼今天這麼順手？因為我把前三個月踩過的坑，一次性寫進了這套系統。
- **責任的重量**：我做的是「不出事沒人感覺，一出事就會痛」的架構。這是職場定位的選擇：我寧可負責地基，也不想只會刷牆。

---
> **備註**：今日產出的不僅是功能，而是一份「生產級系統設計清單」。
